#include <stdio.h>
#include <pthread.h>

/*
[ec2-user@ip-172-30-1-36 pthread_lock]$ gcc main.blank.cc ;time ./a.out

real    0m0.238s
user    0m0.238s
sys     0m0.000s
[ec2-user@ip-172-30-1-36 pthread_lock]$ gcc main.cc ;time ./a.out

real    0m0.583s
user    0m0.582s
sys     0m0.000s
[ec2-user@ip-172-30-1-36 pthread_lock]$

*/

pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;

int main(int argc,char *argv[]){

	volatile unsigned int i = 100*1000*1000;
	for(;i;i--){
		pthread_mutex_lock(&mutex);
		pthread_mutex_unlock(&mutex);
	}
	

}


